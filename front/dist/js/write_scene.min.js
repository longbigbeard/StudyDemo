function Scene(){}Scene.prototype.listenUploadThumbnailFileEvent=function(){var t=$("#thumbnail-btn");t.change(function(){var e=t[0].files[0],n=new FormData;n.append("file",e),myajax.post({url:"/cms/upload_img_file/",data:n,processData:!1,contentType:!1,success:function(e){if(200===e.code){console.log(e.data);var n=e.data.url;$("#thumbnail-img-form").val(n)}}})})},Scene.prototype.listenUploadBigFileEvent=function(){var t=$("#big-img-btn");t.change(function(){var e=t[0].files[0],n=new FormData;n.append("file",e),myajax.post({url:"/cms/upload_img_file/",data:n,processData:!1,contentType:!1,success:function(e){if(200===e.code){console.log(e.data);var n=e.data.url;$("#big-img-form").val(n)}}})})},Scene.prototype.listenUploadVideoFileEvent=function(){var t=$("#video-btn");t.change(function(){var e=t[0].files[0],n=new FormData;n.append("file",e),myajax.post({url:"/cms/upload_img_file/",data:n,processData:!1,contentType:!1,success:function(e){if(200===e.code){console.log(e.data);var n=e.data.url;$("#video-form").val(n)}}})})},Scene.prototype.initInfoSceneUeditor=function(){window.infosceneue=UE.getEditor("info-editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},Scene.prototype.initAttentionSceneUeditor=function(){window.attentionsceneue=UE.getEditor("attention-editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},Scene.prototype.initMoreImgSceneUeditor=function(){window.moreimgsceneue=UE.getEditor("more-img-editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},Scene.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(e){e.preventDefault();var n=$(this).attr("data-scene-id"),t="";t=n?"/cms/edit_scene/":"/cms/write_scenes/";var i=$("input[name='title']").val(),o=$("input[name='ranking']").val(),a=$("input[name='prices']").val(),r=$("input[name='grade']").val(),l=window.infosceneue.getContent(),c=window.attentionsceneue.getContent(),s=window.moreimgsceneue.getContent(),d=$("input[name='thumbnail-img']").val(),u=$("input[name='big-img']").val(),p=$("input[name='video']").val();myajax.post({url:t,data:{title:i,ranking:o,grade:r,prices:a,scene_info:l,danger_info:c,moreimage:s,thumbnail:d,bigimage:u,scene_video:p,pk:n},success:function(e){200===e.code&&myalert.alertSuccess("景点增加成功！",function(){window.location.reload()})}})})},Scene.prototype.run=function(){self=this,self.listenUploadThumbnailFileEvent(),self.listenUploadBigFileEvent(),self.listenUploadVideoFileEvent(),self.initInfoSceneUeditor(),self.initAttentionSceneUeditor(),self.initMoreImgSceneUeditor(),self.listenSubmitEvent()},Scene.prototype.handleFileUploadProcess=function(e){var n=e.total.percent;$("#progress-group").show(),$(".progress-bar").css({width:n+"%"})},$(function(){(new Scene).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX3NjZW5lLmpzIl0sIm5hbWVzIjpbIlNjZW5lIiwicHJvdG90eXBlIiwibGlzdGVuVXBsb2FkVGh1bWJuYWlsRmlsZUV2ZW50IiwidXBsb2FkQnRuIiwiJCIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJteWFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsInZhbCIsImxpc3RlblVwbG9hZEJpZ0ZpbGVFdmVudCIsImxpc3RlblVwbG9hZFZpZGVvRmlsZUV2ZW50IiwiaW5pdEluZm9TY2VuZVVlZGl0b3IiLCJ3aW5kb3ciLCJpbmZvc2NlbmV1ZSIsIlVFIiwiZ2V0RWRpdG9yIiwiaW5pdGlhbEZyYW1lSGVpZ2h0Iiwic2VydmVyVXJsIiwiaW5pdEF0dGVudGlvblNjZW5lVWVkaXRvciIsImF0dGVudGlvbnNjZW5ldWUiLCJpbml0TW9yZUltZ1NjZW5lVWVkaXRvciIsIm1vcmVpbWdzY2VuZXVlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwayIsInRoaXMiLCJhdHRyIiwidGl0bGUiLCJyYW5raW5nIiwicHJpY2VzIiwiZ3JhZGUiLCJzY2VuZV9pbmZvIiwiZ2V0Q29udGVudCIsImRhbmdlcl9pbmZvIiwibW9yZWltYWdlIiwidGh1bWJuYWlsIiwiYmlnaW1hZ2UiLCJzY2VuZV92aWRlbyIsIm15YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsInJ1biIsInNlbGYiLCJoYW5kbGVGaWxlVXBsb2FkUHJvY2VzcyIsInJlc3BvbnNlIiwicHJlY2VudCIsInRvdGFsIiwicGVyY2VudCIsInNob3ciLCJjc3MiLCJ3aWR0aCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsU0FJVEEsTUFBTUMsVUFBVUMsK0JB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VUFBWUEsRUFDWkMsVUFBWUEsRUFDWkMsU0FBV0EsRUFDWEMsWUFBY0EsRUFDZGIsR0FBS0EsR0FFVHRCLFFBQVUsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxNQUNabUMsUUFBUUMsYUFBYSxVQUFVLFdBQzNCN0IsT0FBTzhCLFNBQVNDLGlCQVd4Q3hELE1BQU1DLFVBQVV3RCxJQUFNLFdBQ2xCQyxLQUFPbEIsS0FDUGtCLEtBQUt4RCxpQ0FDTHdELEtBQUtwQywyQkFFTG9DLEtBQUtuQyw2QkFFTG1DLEtBQUtsQyx1QkFDTGtDLEtBQUszQiw0QkFDTDJCLEtBQUt6QiwwQkFDTHlCLEtBQUt2QixxQkFHVG5DLE1BQU1DLFVBQVUwRCx3QkFBMEIsU0FBVUMsR0FDaEQsSUFDSUMsRUFEUUQsRUFBU0UsTUFDREMsUUFDQTNELEVBQUUsbUJBQ1I0RCxPQUNHNUQsRUFBRSxpQkFDUjZELElBQUksQ0FBQ0MsTUFBUUwsRUFBUSxPQUlwQ3pELEVBQUUsWUFDYyxJQUFJSixPQUNWeUQiLCJmaWxlIjoid3JpdGVfc2NlbmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gU2NlbmUoKSB7XHJcblxyXG59XHJcblxyXG5TY2VuZS5wcm90b3R5cGUubGlzdGVuVXBsb2FkVGh1bWJuYWlsRmlsZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciB1cGxvYWRCdG4gPSAkKCcjdGh1bWJuYWlsLWJ0bicpO1xyXG4gICAgdXBsb2FkQnRuLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB1cGxvYWRCdG5bMF0uZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcbiAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ltZ19maWxlLycsXHJcbiAgICAgICAgICAgICdkYXRhJzogZm9ybURhdGEsXHJcbiAgICAgICAgICAgICdwcm9jZXNzRGF0YSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnY29udGVudFR5cGUnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdFsnZGF0YSddKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxJbnB1dCA9ICQoJyN0aHVtYm5haWwtaW1nLWZvcm0nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxJbnB1dC52YWwodXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59O1xyXG5cclxuU2NlbmUucHJvdG90eXBlLmxpc3RlblVwbG9hZEJpZ0ZpbGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB1cGxvYWRCdG4gPSAkKCcjYmlnLWltZy1idG4nKTtcclxuICAgIHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gdXBsb2FkQnRuWzBdLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG4gICAgICAgIG15YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY21zL3VwbG9hZF9pbWdfZmlsZS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAncHJvY2Vzc0RhdGEnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ2NvbnRlbnRUeXBlJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRbJ2RhdGEnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKCcjYmlnLWltZy1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsSW5wdXQudmFsKHVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcblNjZW5lLnByb3RvdHlwZS5saXN0ZW5VcGxvYWRWaWRlb0ZpbGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB1cGxvYWRCdG4gPSAkKCcjdmlkZW8tYnRuJyk7XHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHVwbG9hZEJ0blswXS5maWxlc1swXTtcclxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICBteWFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy91cGxvYWRfaW1nX2ZpbGUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0WydkYXRhJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZXN1bHRbJ2RhdGEnXVsndXJsJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbElucHV0ID0gJCgnI3ZpZGVvLWZvcm0nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxJbnB1dC52YWwodXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5TY2VuZS5wcm90b3R5cGUuaW5pdEluZm9TY2VuZVVlZGl0b3IgPSBmdW5jdGlvbigpe1xyXG4gICAgd2luZG93LmluZm9zY2VuZXVlID0gVUUuZ2V0RWRpdG9yKCdpbmZvLWVkaXRvcicsIHtcclxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogNDAwLFxyXG4gICAgICAgICdzZXJ2ZXJVcmwnOiAnL3VlZGl0b3IvdXBsb2FkLycsXHJcbiAgICB9KTtcclxufTtcclxuXHJcblNjZW5lLnByb3RvdHlwZS5pbml0QXR0ZW50aW9uU2NlbmVVZWRpdG9yID0gZnVuY3Rpb24oKXtcclxuICAgIHdpbmRvdy5hdHRlbnRpb25zY2VuZXVlID0gVUUuZ2V0RWRpdG9yKCdhdHRlbnRpb24tZWRpdG9yJywge1xyXG4gICAgICAgICdpbml0aWFsRnJhbWVIZWlnaHQnOiA0MDAsXHJcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJyxcclxuICAgIH0pO1xyXG59O1xyXG5cclxuU2NlbmUucHJvdG90eXBlLmluaXRNb3JlSW1nU2NlbmVVZWRpdG9yID0gZnVuY3Rpb24oKXtcclxuICAgIHdpbmRvdy5tb3JlaW1nc2NlbmV1ZSA9IFVFLmdldEVkaXRvcignbW9yZS1pbWctZWRpdG9yJywge1xyXG4gICAgICAgICdpbml0aWFsRnJhbWVIZWlnaHQnOiA0MDAsXHJcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJyxcclxuICAgIH0pO1xyXG59O1xyXG5cclxuU2NlbmUucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzdWJtaXRCdG4gPSAkKCcjc3VibWl0LWJ0bicpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHZhciBidG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBwayA9IGJ0bi5hdHRyKFwiZGF0YS1zY2VuZS1pZFwiKTtcclxuICAgICAgICB2YXIgdXJsID0gJyc7XHJcbiAgICAgICAgaWYocGspe1xyXG4gICAgICAgICAgICB1cmwgPSAnL2Ntcy9lZGl0X3NjZW5lLyc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3dyaXRlX3NjZW5lcy8nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRpdGxlID0gJChcImlucHV0W25hbWU9J3RpdGxlJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHJhbmtpbmcgPSAkKFwiaW5wdXRbbmFtZT0ncmFua2luZyddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBwcmljZXMgPSAkKFwiaW5wdXRbbmFtZT0ncHJpY2VzJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGdyYWRlID0gJChcImlucHV0W25hbWU9J2dyYWRlJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHNjZW5lX2luZm8gPSB3aW5kb3cuaW5mb3NjZW5ldWUuZ2V0Q29udGVudCgpO1xyXG4gICAgICAgIHZhciBkYW5nZXJfaW5mbyA9IHdpbmRvdy5hdHRlbnRpb25zY2VuZXVlLmdldENvbnRlbnQoKTtcclxuICAgICAgICB2YXIgbW9yZWltYWdlID0gd2luZG93Lm1vcmVpbWdzY2VuZXVlLmdldENvbnRlbnQoKTtcclxuICAgICAgICB2YXIgdGh1bWJuYWlsID0gJChcImlucHV0W25hbWU9J3RodW1ibmFpbC1pbWcnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgYmlnaW1hZ2UgPSAkKFwiaW5wdXRbbmFtZT0nYmlnLWltZyddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBzY2VuZV92aWRlbyA9ICQoXCJpbnB1dFtuYW1lPSd2aWRlbyddXCIpLnZhbCgpO1xyXG5cclxuXHJcbiAgICAgICAgbXlhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogdXJsLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzp0aXRsZSxcclxuICAgICAgICAgICAgICAgICdyYW5raW5nJzpyYW5raW5nLFxyXG4gICAgICAgICAgICAgICAgJ2dyYWRlJzpncmFkZSxcclxuICAgICAgICAgICAgICAgICdwcmljZXMnOnByaWNlcyxcclxuICAgICAgICAgICAgICAgICdzY2VuZV9pbmZvJzpzY2VuZV9pbmZvLFxyXG4gICAgICAgICAgICAgICAgJ2Rhbmdlcl9pbmZvJzpkYW5nZXJfaW5mbyxcclxuICAgICAgICAgICAgICAgICdtb3JlaW1hZ2UnOm1vcmVpbWFnZSxcclxuICAgICAgICAgICAgICAgICd0aHVtYm5haWwnOnRodW1ibmFpbCxcclxuICAgICAgICAgICAgICAgICdiaWdpbWFnZSc6YmlnaW1hZ2UsXHJcbiAgICAgICAgICAgICAgICAnc2NlbmVfdmlkZW8nOnNjZW5lX3ZpZGVvLFxyXG4gICAgICAgICAgICAgICAgJ3BrJzpwayxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIG15YWxlcnQuYWxlcnRTdWNjZXNzKCfmma/ngrnlop7liqDmiJDlip/vvIEnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG59O1xyXG5cclxuU2NlbmUucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5VcGxvYWRUaHVtYm5haWxGaWxlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuVXBsb2FkQmlnRmlsZUV2ZW50KCk7XHJcbiAgICAvLyBzZWxmLmxpc3RlblVwbG9hZE1vcmVGaWxlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuVXBsb2FkVmlkZW9GaWxlRXZlbnQoKTtcclxuICAgIC8vIHNlbGYuaGFuZGxlRmlsZVVwbG9hZFByb2Nlc3MoKTtcclxuICAgIHNlbGYuaW5pdEluZm9TY2VuZVVlZGl0b3IoKTtcclxuICAgIHNlbGYuaW5pdEF0dGVudGlvblNjZW5lVWVkaXRvcigpO1xyXG4gICAgc2VsZi5pbml0TW9yZUltZ1NjZW5lVWVkaXRvcigpO1xyXG4gICAgc2VsZi5saXN0ZW5TdWJtaXRFdmVudCgpO1xyXG59O1xyXG5cclxuU2NlbmUucHJvdG90eXBlLmhhbmRsZUZpbGVVcGxvYWRQcm9jZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICB2YXIgdG90YWwgPSByZXNwb25zZS50b3RhbDtcclxuICAgIHZhciBwcmVjZW50ID0gdG90YWwucGVyY2VudDtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJChcIiNwcm9ncmVzcy1ncm91cFwiKTtcclxuICAgIHByb2dyZXNzR3JvdXAuc2hvdygpO1xyXG4gICAgdmFyIHByb2Nlc3NCYXIgPSAkKCcucHJvZ3Jlc3MtYmFyJyk7XHJcbiAgICBwcm9jZXNzQmFyLmNzcyh7XCJ3aWR0aFwiOnByZWNlbnQrJyUnfSk7XHJcblxyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2NlbmUgPSBuZXcgU2NlbmUoKTtcclxuICAgIHNjZW5lLnJ1bigpO1xyXG59KTsiXX0=
