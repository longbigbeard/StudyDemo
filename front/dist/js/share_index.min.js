function Share(){this.page=2,template.defaults.imports.timeSince=function(e){var t=new Date(e),n=t.getTime(),o=((new Date).getTime()-n)/1e3;return o<60?"刚刚":60<=o&&o<3600?(minutes=parseInt(o/60),minutes+"分钟前"):3600<=o&&o<86400?(hours=parseInt(o/60/60),hours+"小时前"):86400<=o&&o<2592e3?(days=parseInt(o/60/60/24),days+"天前"):t.getFullYear()+"/"+t.getMonth()+"/"+t.getDay()+" "+t.getHours()+":"+t.getMinutes()}}Share.prototype.initInfoShareUeditor=function(){window.infoshareue=UE.getEditor("share-content-editor",{initialFrameHeight:300,serverUrl:"/ueditor/upload/"})},Share.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(e){e.preventDefault();var t=window.infoshareue.getContent();myajax.post({url:"/share/",data:{content:t},success:function(e){200===e.code&&myalert.alertSuccess("评论增加成功！",function(){window.location.reload()})}})})},Share.prototype.litenLoadMoreEvent=function(){var o=this,a=$("#load-more-btn");a.click(function(){myajax.get({url:"/share/list/",data:{p:o.page},success:function(e){if(200===e.code){console.log(e.data);var t=e.data;if(0<t.length){var n=template("share-content-item",{comments:t});$(".comment-list").append(n),o.page+=1}else a.hide()}}})})},Share.prototype.run=function(){self=this,self.initInfoShareUeditor(),self.listenSubmitEvent(),self.litenLoadMoreEvent()},$(function(){(new Share).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlX2luZGV4LmpzIl0sIm5hbWVzIjpbIlNoYXJlIiwidGhpcyIsInBhZ2UiLCJ0ZW1wbGF0ZSIsImRlZmF1bHRzIiwiaW1wb3J0cyIsInRpbWVTaW5jZSIsImRhdGVWYWx1ZSIsImRhdGUiLCJEYXRlIiwiZGF0ZXRzIiwiZ2V0VGltZSIsInRpbWVzdGFtcCIsIm1pbnV0ZXMiLCJwYXJzZUludCIsImhvdXJzIiwiZGF5cyIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXkiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJwcm90b3R5cGUiLCJpbml0SW5mb1NoYXJlVWVkaXRvciIsIndpbmRvdyIsImluZm9zaGFyZXVlIiwiVUUiLCJnZXRFZGl0b3IiLCJpbml0aWFsRnJhbWVIZWlnaHQiLCJzZXJ2ZXJVcmwiLCJsaXN0ZW5TdWJtaXRFdmVudCIsIiQiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjb250ZW50IiwiZ2V0Q29udGVudCIsIm15YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsIm15YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsImxpdGVuTG9hZE1vcmVFdmVudCIsInNlbGYiLCJsb2FkTW9yZUJ0biIsImdldCIsInAiLCJjb25zb2xlIiwibG9nIiwiY29tbWVudHMiLCJsZW5ndGgiLCJ0cGwiLCJhcHBlbmQiLCJoaWRlIiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxRQUNNQyxLQUNOQyxLQUFPLEVBRVpDLFNBQVNDLFNBQVNDLFFBQVFDLFVBQVksU0FBVUMsR0FDeEMsSUFBSUMsRUFBTyxJQUFJQyxLQUFLRixHQUNoQkcsRUFBU0YsRUFBS0csVUFFZEMsSUFEUSxJQUFLSCxNQUFRRSxVQUNBRCxHQUFRLElBQ2pDLE9BQUdFLEVBQVksR0FDSixLQUVVLElBQWJBLEdBQW1CQSxFQUFZLE1BQ25DQyxRQUFVQyxTQUFTRixFQUFZLElBQ3hCQyxRQUFRLE9BRUUsTUFBYkQsR0FBc0JBLEVBQVksT0FDdENHLE1BQVFELFNBQVNGLEVBQVksR0FBSyxJQUMzQkcsTUFBTSxPQUVJLE9BQWJILEdBQXlCQSxFQUFZLFFBQ3pDSSxLQUFPRixTQUFTRixFQUFZLEdBQUssR0FBSyxJQUMvQkksS0FBTyxNQUVIUixFQUFLUyxjQUtKLElBSkFULEVBQUtVLFdBSUssSUFIWlYsRUFBS1csU0FHZSxJQUZuQlgsRUFBS1ksV0FFdUIsSUFEMUJaLEVBQUthLGNBT2xDckIsTUFBTXNCLFVBQVVDLHFCQUF1QixXQUNuQ0MsT0FBT0MsWUFBY0MsR0FBR0MsVUFBVSx1QkFBd0IsQ0FDdERDLG1CQUFzQixJQUN0QkMsVUFBYSxzQkFJckI3QixNQUFNc0IsVUFBVVEsa0JBQW9CLFdBQ2hCQyxFQUFFLGVBQ1JDLE1BQU0sU0FBVUMsR0FDdEJBLEVBQU1DLGlCQUVOLElBQUlDLEVBQVVYLE9BQU9DLFlBQVlXLGFBR2pDQyxPQUFPQyxLQUFLLENBQ1JDLElBQU8sVUFDUEMsS0FBUSxDQUNKTCxRQUFXQSxHQUVmTSxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYkMsUUFBUUMsYUFBYSxVQUFXLFdBQzVCcEIsT0FBT3FCLFNBQVNDLGlCQVd4QzlDLE1BQU1zQixVQUFVeUIsbUJBQXFCLFdBQ2pDLElBQUlDLEVBQU8vQyxLQUNQZ0QsRUFBY2xCLEVBQUUsa0JBQ3BCa0IsRUFBWWpCLE1BQU0sV0FDZEssT0FBT2EsSUFBSSxDQUNQWCxJQUFPLGVBQ1BDLEtBQVEsQ0FDSlcsRUFBS0gsRUFBSzlDLE1BRWR1QyxRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVcsQ0FDeEJVLFFBQVFDLElBQUlYLEVBQWEsTUFDekIsSUFBSVksRUFBV1osRUFBYSxLQUM1QixHQUFzQixFQUFsQlksRUFBU0MsT0FBWSxDQUNyQixJQUFJQyxFQUFNckQsU0FBUyxxQkFBc0IsQ0FBQ21ELFNBQVlBLElBQzdDdkIsRUFBRSxpQkFDUjBCLE9BQU9ELEdBQ1ZSLEVBQUs5QyxNQUFRLE9BRWIrQyxFQUFZUyxjQVVwQzFELE1BQU1zQixVQUFVcUMsSUFBTSxXQUNsQlgsS0FBTy9DLEtBQ1ArQyxLQUFLekIsdUJBQ0x5QixLQUFLbEIsb0JBQ0xrQixLQUFLRCxzQkFHVGhCLEVBQUUsWUFDYyxJQUFJL0IsT0FDVjJEIiwiZmlsZSI6InNoYXJlX2luZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFNoYXJlKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5wYWdlID0gMjtcclxuXHJcbiAgICB0ZW1wbGF0ZS5kZWZhdWx0cy5pbXBvcnRzLnRpbWVTaW5jZSA9IGZ1bmN0aW9uIChkYXRlVmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkYXRlVmFsdWUpO1xyXG4gICAgICAgICAgICB2YXIgZGF0ZXRzID0gZGF0ZS5nZXRUaW1lKCk7IC8vIOW+l+WIsOeahOaYr+avq+enkueahFxyXG4gICAgICAgICAgICB2YXIgbm93dHMgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpOyAvL+W+l+WIsOeahOaYr+W9k+WJjeaXtumXtOeahOaXtumXtOaIs1xyXG4gICAgICAgICAgICB2YXIgdGltZXN0YW1wID0gKG5vd3RzIC0gZGF0ZXRzKS8xMDAwOyAvLyDpmaTku6UxMDAw77yM5b6X5Yiw55qE5piv56eSXHJcbiAgICAgICAgICAgIGlmKHRpbWVzdGFtcCA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+WImuWImic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aW1lc3RhbXAgPj0gNjAgJiYgdGltZXN0YW1wIDwgNjAqNjApIHtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBwYXJzZUludCh0aW1lc3RhbXAgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWludXRlcysn5YiG6ZKf5YmNJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHRpbWVzdGFtcCA+PSA2MCo2MCAmJiB0aW1lc3RhbXAgPCA2MCo2MCoyNCkge1xyXG4gICAgICAgICAgICAgICAgaG91cnMgPSBwYXJzZUludCh0aW1lc3RhbXAgLyA2MCAvIDYwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBob3Vycysn5bCP5pe25YmNJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHRpbWVzdGFtcCA+PSA2MCo2MCoyNCAmJiB0aW1lc3RhbXAgPCA2MCo2MCoyNCozMCkge1xyXG4gICAgICAgICAgICAgICAgZGF5cyA9IHBhcnNlSW50KHRpbWVzdGFtcCAvIDYwIC8gNjAgLyAyNCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF5cyArICflpKnliY0nO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF5KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaW51dGUgPSBkYXRlLmdldE1pbnV0ZXMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyKycvJyttb250aCsnLycrZGF5K1wiIFwiK2hvdXIrXCI6XCIrbWludXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxufVxyXG5cclxuU2hhcmUucHJvdG90eXBlLmluaXRJbmZvU2hhcmVVZWRpdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LmluZm9zaGFyZXVlID0gVUUuZ2V0RWRpdG9yKCdzaGFyZS1jb250ZW50LWVkaXRvcicsIHtcclxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogMzAwLFxyXG4gICAgICAgICdzZXJ2ZXJVcmwnOiAnL3VlZGl0b3IvdXBsb2FkLycsXHJcbiAgICB9KTtcclxufTtcclxuXHJcblNoYXJlLnByb3RvdHlwZS5saXN0ZW5TdWJtaXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzdWJtaXRCdG4gPSAkKCcjc3VibWl0LWJ0bicpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHZhciBjb250ZW50ID0gd2luZG93LmluZm9zaGFyZXVlLmdldENvbnRlbnQoKTtcclxuXHJcblxyXG4gICAgICAgIG15YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvc2hhcmUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudCc6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBteWFsZXJ0LmFsZXJ0U3VjY2Vzcygn6K+E6K665aKe5Yqg5oiQ5Yqf77yBJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5TaGFyZS5wcm90b3R5cGUubGl0ZW5Mb2FkTW9yZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGxvYWRNb3JlQnRuID0gJCgnI2xvYWQtbW9yZS1idG4nKTtcclxuICAgIGxvYWRNb3JlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBteWFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvc2hhcmUvbGlzdC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdwJzogc2VsZi5wYWdlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRbJ2RhdGEnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRzID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwic2hhcmUtY29udGVudC1pdGVtXCIsIHtcImNvbW1lbnRzXCI6IGNvbW1lbnRzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bCA9ICQoJy5jb21tZW50LWxpc3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRNb3JlQnRuLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5cclxuU2hhcmUucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pbml0SW5mb1NoYXJlVWVkaXRvcigpO1xyXG4gICAgc2VsZi5saXN0ZW5TdWJtaXRFdmVudCgpO1xyXG4gICAgc2VsZi5saXRlbkxvYWRNb3JlRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNoYXJlID0gbmV3IFNoYXJlKCk7XHJcbiAgICBzaGFyZS5ydW4oKTtcclxufSk7Il19
